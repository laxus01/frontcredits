(()=>{var e={46700:(e,t,a)=>{var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=46700},51227:(e,t,a)=>{"use strict";a(66992),a(88674),a(19601),a(17727),a(5212),a(41539);var n=a(20144),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list",{attrs:{dense:""}},[[a("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return a("div",{key:t.title},[t.items?a("v-list-group",{attrs:{"prepend-icon":t.action,"no-action":"",link:""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"item.active"}},e._l(t.items,(function(t){return a("v-list-item",{key:t.title,attrs:{to:t.to}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s(t.action)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1):a("v-list-item",{attrs:{to:t.to,link:""}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s(t.action)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)],1)}))],2)]],2)},o=[];const c={name:"Menu",data:function(){return{items:[{action:"paid",title:"Registros",items:[{action:"paid",title:"Pagos",to:"/register-paid"},{action:"paid",title:"Mis Cobros",to:"/create-payment"}]},{action:"edit_attributes",title:"Modificaciones",items:[{title:"Pagos",action:"edit_attributes",to:"/edit-paids"},{title:"Creditos",action:"edit_attributes",to:"/edit-credits"}]},{action:"auto_awesome_motion",title:"Informes",items:[{title:"Estado Actual",action:"auto_awesome_motion",to:"/actual-state"},{title:"Balance Diario",action:"auto_awesome_motion",to:"/daily-balance"},{title:"Creditos Vencidos",action:"auto_awesome_motion",to:"/credits-expired"}]},{action:"assessment",title:"Estadisticas",items:[{title:"Grafica Actual",action:"assessment",to:"/graphic-state"}]}]}}},l=c;var d=a(1001),u=a(43453),p=a.n(u),v=a(4324),m=a(65808),f=a(87397),h=a(54525),g=a(66105),x=a(74611),b=(0,d.Z)(l,s,o,!1,null,"285843e0",null);const C=b.exports;p()(b,{VIcon:v.Z,VList:m.Z,VListGroup:f.Z,VListItem:h.Z,VListItemContent:g.km,VListItemIcon:x.Z,VListItemTitle:g.V9});const k={name:"App",data:function(){return{drawer:null,token:""}},components:{Menu:C}},_=k,y={container:"App_container_jzqtp"};var w=a(40998),Z=a(77394);function V(e){this["$style"]=y.locals||y}var j=(0,d.Z)(_,r,i,!1,V,null,null);const P=j.exports;p()(j,{VApp:w.Z,VSlideYTransition:Z.cu});var D=a(78345),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",fixed:""}},[a("v-toolbar-title",[e._v("Usuario Registrado")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Usuario",type:"text"},model:{value:e.postLogin.login,callback:function(t){e.$set(e.postLogin,"login",t)},expression:"postLogin.login"}}),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:e.postLogin.password,callback:function(t){e.$set(e.postLogin,"password",t)},expression:"postLogin.password"}})],1)],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"footer__left"},[e.error?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" Error de usuario o Contraseña ")]):e._e()],1),a("div",{staticClass:"footer__right"},[a("v-btn",{attrs:{large:"",elevation:"5",color:"blue darken-3",dark:""},on:{click:function(t){return e.login()}}},[e._v("Iniciar Sesión")])],1)])],1)],1)],1)],1)],1)],1)},R=[],B=a(48534),$=(a(35666),a(68309),a(9669)),S=a.n($);const E={data:function(){return{error:!1,postLogin:{login:"",password:""}}},methods:{login:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().post("users",e.postLogin).then(function(){var t=(0,B.Z)(regeneratorRuntime.mark((function t(a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(n=a.data.res.token,r=a.data.res.name,window.localStorage.setItem("authToken",n),window.localStorage.setItem("nameUser",r),e.$router.push("/dashboard"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(t){e.error=!0,console.log(t)}));case 2:case"end":return t.stop()}}),t)})))()}},props:{source:String}},T=E;var A=a(37359),F=a(16190),O=a(34145),M=a(54886),L=a(69256),N=a(4829),q=a(31267),z=a(65005),G=a(43201),H=a(17808),Y=a(71783),U=a(97953),K=(0,d.Z)(T,I,R,!1,null,null,null);const J=K.exports;p()(K,{VAlert:A.Z,VApp:w.Z,VBtn:F.Z,VCard:O.Z,VCardText:M.ZB,VContainer:L.Z,VContent:N.Z,VFlex:q.Z,VForm:z.Z,VLayout:G.Z,VTextField:H.Z,VToolbar:Y.Z,VToolbarTitle:U.qW});var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Mis Cobros")]),a("ListPayment",{staticClass:"top"})],1)],1)},Q=[],X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{rounded:"",color:"blue darken-3",dark:""}},"v-btn",r,!1),n),[e._v(" Registrar ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Detalle*",hint:"Digite el nombre de la ruta de su cobro","persistent-hint":"",required:""},model:{value:e.editedItem.detail,callback:function(t){e.$set(e.editedItem,"detail",t)},expression:"editedItem.detail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Valor Inicial*",hint:"Digite el valor con el que inicio el cobro","persistent-hint":"",required:""},model:{value:e.editedItem.initial_value,callback:function(t){e.$set(e.editedItem,"initial_value",t)},expression:"editedItem.initial_value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"date",t)},"update:return-value":function(t){return e.$set(e.editedItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha con la que inicio el cobro","persistent-hint":"",readonly:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar este cobro?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.handleClick(n)}}},[e._v(" paid ")])]}}],null,!0)})},ee=[],te=(a(89554),a(54747),a(82772),a(74916),a(15306),a(69600),a(65069),a(23123),a(96647),a(83710),a(39714),a(14670));const ae={data:function(){return{menu:!1,date:"",search:"",dialog:!1,dialogDelete:!1,desserts:[],headers:[{text:"Cobro",align:"start",sortable:!1,value:"detail"},{text:"Fecha",value:"date"},{text:"Valor Inicial",value:"initial_value"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{},defaultItem:{detail:"",date:"",initial_value:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Cobro":"Editar Cobro"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:n=t.sent,e.desserts=[],n.forEach((function(t){e.desserts.push({date:t.date,detail:t.detail,id:t.id,initial_value:e.convert(t.initial_value)})}));case 8:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deletePayment(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){if(this.editedIndex>-1)this.updatePayment(this.editedItem);else{var e=te.generate();this.setPayment(this.editedItem,e)}this.close()},handleClick:function(e){this.$router.push("create-credit/".concat(e.id))},deletePayment:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/payments/inactivate/".concat(e.id)).then((function(){t.getPayments()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updatePayment:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/payments/update/".concat(e.id),{date:e.date,detail:e.detail,initial_value:e.initial_value.replace(/\./g,"")}).then((function(){t.getPayments()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},setPayment:function(e,t){var a=this;return(0,B.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:S().post("api/payments",{id:t,date:e.date,detail:e.detail,initial_value:e.initial_value}).then((function(){a.getPayments()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getPayments()}},ne=ae;var re=a(60266),ie=a(43863),se=a(96236),oe=a(29930),ce=a(99223),le=a(24528),de=a(11713),ue=a(13687),pe=(0,d.Z)(ne,X,ee,!1,null,null,null);const ve=pe.exports;p()(pe,{VBtn:F.Z,VCard:O.Z,VCardActions:M.h7,VCardText:M.ZB,VCardTitle:M.EB,VCol:re.Z,VContainer:L.Z,VDataTable:ie.Z,VDatePicker:se.Z,VDialog:oe.Z,VDivider:ce.Z,VIcon:v.Z,VMenu:le.Z,VRow:de.Z,VSpacer:ue.Z,VTextField:H.Z,VToolbar:Y.Z});const me={name:"CreatePayment",data:function(){return{}},components:{ListPayment:ve}},fe=me;var he=a(65883),ge=(0,d.Z)(fe,W,Q,!1,null,null,null);const xe=ge.exports;p()(ge,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Listado De Creditos ")]),a("ListCredits",{staticClass:"top",attrs:{payment_id:e.$route.params.id}})],1)],1)},Ce=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("FormCredit",{attrs:{payment_id:e.payment_id,final:e.final},on:{closeModalCredit:e.closeModalCredit,getCredits:e.getCredits}})],1),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){e.dialog2=!e.dialog2}}},[a("v-icon",{attrs:{dark:""}},[e._v(" person_add_alt_1 ")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,search:e.search,items:e.credits,"items-per-page":5},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"toolbar",attrs:{flat:""}},[a("v-text-field",{attrs:{"prepend-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar este credito?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0}])})],1)},_e=[],ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.state?"Registrar Credito":"Registrar Cliente"))])]),e.state?e._e():a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Identificación*",hint:"Digite la identificación del cliente","persistent-hint":""},model:{value:e.dataClient.identification,callback:function(t){e.$set(e.dataClient,"identification","string"===typeof t?t.trim():t)},expression:"dataClient.identification"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre*",hint:"Digite el nombre del cliente","persistent-hint":"",required:""},model:{value:e.dataClient.name,callback:function(t){e.$set(e.dataClient,"name","string"===typeof t?t.trim():t)},expression:"dataClient.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Telefono*",hint:"Digite el telefono del cliente","persistent-hint":""},model:{value:e.dataClient.phone,callback:function(t){e.$set(e.dataClient,"phone",t)},expression:"dataClient.phone"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Dirección*",hint:"Digite la dirección del cliente","persistent-hint":""},model:{value:e.dataClient.direction,callback:function(t){e.$set(e.dataClient,"direction",t)},expression:"dataClient.direction"}})],1)],1)],1)],1),e.state?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"prepend-icon":"person",items:e.items,"return-object":"",label:"Cliente*",hint:"Seleccione el cliente","persistent-hint":"","item-value":"value","item-text":"name","no-data-text":"Cliente no registrado","menu-props":{maxHeight:100}},on:{"click:prepend":function(t){e.state=!e.state}},model:{value:e.client,callback:function(t){e.client=t},expression:"client"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"name",attrs:{label:"Valor Prestamo*",hint:"Digite el valor del prestamo","persistent-hint":"",required:""},model:{value:e.postCredit.value,callback:function(t){e.$set(e.postCredit,"value",t)},expression:"postCredit.value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"name",attrs:{label:"Valor Abono*",hint:"Digite el valor del abono","persistent-hint":"",required:""},model:{value:e.postPaid.value,callback:function(t){e.$set(e.postPaid,"value",t)},expression:"postPaid.value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.postCredit.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.postCredit,"date",t)},"update:return-value":function(t){return e.$set(e.postCredit,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha","persistent-hint":"",readonly:""},model:{value:e.postCredit.date,callback:function(t){e.$set(e.postCredit,"date",t)},expression:"postCredit.date"}},"v-text-field",r,!1),n))]}}],null,!1,3926128423),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.postCredit.date,callback:function(t){e.$set(e.postCredit,"date",t)},expression:"postCredit.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.postCredit.date)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-col",[a("v-select",{attrs:{items:["30","40","60"],label:"Dias*"},model:{value:e.postCredit.mode,callback:function(t){e.$set(e.postCredit,"mode",t)},expression:"postCredit.mode"}})],1),a("v-col",[a("v-checkbox",{attrs:{label:"Ultimo Credito"},model:{value:e.final,callback:function(t){e.final=t},expression:"final"}})],1)],1)],1)],1):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),e.state?a("v-btn",{attrs:{disabled:e.validatePostCredit(),color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar")]):e._e(),e.state?e._e():a("v-btn",{attrs:{disabled:e.validateDataClient(),color:"blue darken-1",text:""},on:{click:e.save2}},[e._v(" Guardar")])],1)],1)},we=[],Ze=a(30381),Ve=a.n(Ze),je=a(14670);const Pe={data:function(){return{state:!0,creditFinal:"",dataClient:{id:"",identification:"",name:"",phone:"",direction:""},postCredit:{id:"",payment_id:"",value:"",paid:"",date:"",next:"",previous:"",mode:""},postPaid:{id:"",credit_id:"",date:"",value:""},client:"",items:[],menu:!1}},props:{payment_id:"",next:"",previous:"",current:"",final:!1,lengthCredits:!0},methods:{getClients:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/clients");case 2:return a=t.sent,t.next=5,a.data.clients;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},close:function(){this.state?(this.$emit("closeModalCredit"),this.clearFormCredit()):this.state=!this.state},save:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveCredits();case 2:case"end":return t.stop()}}),t)})))()},save2:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveClient();case 2:return t.next=4,e.clearFormClient();case 4:case"end":return t.stop()}}),t)})))()},clearFormCredit:function(){this.postCredit={id:"",payment_id:"",value:"",paid:"",date:""},this.postPaid={value:""}},clearFormClient:function(){this.dataClient={id:"",identification:"",name:"",phone:"",direction:""}},saveCredits:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e["final"]){t.next=9;break}return t.next=3,e.getCreditFinal();case 3:return t.next=5,e.setValuePostCredit();case 5:return t.next=7,e.updatePrevious(e.creditFinal);case 7:t.next=15;break;case 9:return t.next=11,e.setValuePostCredit();case 11:return t.next=13,e.updatePrevious(e.previous);case 13:return t.next=15,e.updateNext();case 15:e.saveCredit();case 16:case"end":return t.stop()}}),t)})))()},saveCredit:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().post("api/credits",e.postCredit).then(function(){var t=(0,B.Z)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,e.setValuePostPaid();case 3:return t.next=5,e.savePaid();case 5:return t.next=7,e.clearFormCredit();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},savePaid:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.postPaid),t.next=3,S().post("api/credits/paid",e.postPaid).then((function(t){t&&(e.$emit("closeModalCredit"),e.$emit("getCredits"))}));case 3:case"end":return t.stop()}}),t)})))()},getCreditFinal:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/credits/final/".concat(e.payment_id)).then((function(t){t.data.creditFinal.length>0?e.creditFinal=t.data.creditFinal[0].id:e.creditFinal=0}))["catch"]((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},setValuePostCredit:function(){this.postCredit.id=je.generate(),this.postCredit.payment_id=this.payment_id,this.postCredit.client_id=this.client.id,this.postCredit.next=this["final"]?0:this.current,this.postCredit.previous=this["final"]?this.creditFinal:this.previous,this.postCredit.register_date=Ve()().format("YYYY-MM-DD HH:mm:ss")},setValuePostPaid:function(){this.postPaid.id=je.generate(),this.postPaid.credit_id=this.postCredit.id,this.postPaid.date=this.postCredit.date},saveClient:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dataClient.id=je.generate(),S().post("api/clients",e.dataClient).then((function(t){t&&(e.getClients(),e.state=!e.state)}));case 2:case"end":return t.stop()}}),t)})))()},updatePrevious:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/credits/previous/".concat(e),{next:t.postCredit.id}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updateNext:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:S().put("api/credits/next/".concat(e.current),{previous:e.postCredit.id}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},validatePostCredit:function(){if(""===this.postCredit.value||""===this.postCredit.date||""===this.client||""===this.postCredit.mode||""===this.postPaid.value)return!0},validateDataClient:function(){if(""===this.dataClient.identification||""===this.dataClient.name)return!0}},created:function(){this.getClients()},return:{}},De=Pe;var Ie=a(344),Re=a(120),Be=a(29481),$e=(0,d.Z)(De,ye,we,!1,null,null,null);const Se=$e.exports;p()($e,{VAutocomplete:Ie.Z,VBtn:F.Z,VCard:O.Z,VCardActions:M.h7,VCardText:M.ZB,VCardTitle:M.EB,VCheckbox:Re.Z,VCol:re.Z,VContainer:L.Z,VDatePicker:se.Z,VMenu:le.Z,VRow:de.Z,VSelect:Be.Z,VSpacer:ue.Z,VTextField:H.Z});a(14670);const Ee={data:function(){return{creditId:"",credits:[],dialog2:!1,final:!0,date:"",search:"",dialog:!1,dialogDelete:!1,headers:[{text:"Cliente",align:"start",value:"name"},{text:"Total",value:"total"},{text:"Fecha",value:"date"}]}},props:{payment_id:""},components:{FormCredit:Se},methods:{getCredits:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/credits/".concat(e.payment_id));case 2:return a=t.sent,t.next=5,a.data.credits;case 5:e.credits=t.sent;case 6:case"end":return t.stop()}}),t)})))()},deleteCredit:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,S()["delete"]("api/credits/".concat(e)).then((function(e){e&&t.getCredits()}));case 2:case"end":return a.stop()}}),a)})))()},closeModalClient:function(){this.dialog=!1},closeModalCredit:function(){this.dialog2=!1},deleteItem:function(e){this.creditId=e.id,this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteCredit(this.creditId),this.closeDelete()},closeDelete:function(){this.dialogDelete=!1}},created:function(){this.getCredits()}},Te=Ee;var Ae=(0,d.Z)(Te,ke,_e,!1,null,null,null);const Fe=Ae.exports;p()(Ae,{VBtn:F.Z,VCard:O.Z,VCardActions:M.h7,VCardTitle:M.EB,VContainer:L.Z,VDataTable:ie.Z,VDialog:oe.Z,VIcon:v.Z,VSpacer:ue.Z,VTextField:H.Z,VToolbar:Y.Z});const Oe={name:"CreatePayment",data:function(){return{}},components:{ListCredits:Fe},props:{}},Me=Oe;var Le=(0,d.Z)(Me,be,Ce,!1,null,null,null);const Ne=Le.exports;p()(Le,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Registrar Pagos")]),a("SavePaid",{staticClass:"top"})],1)],1)},ze=[],Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("FormCredit",{attrs:{payment_id:e.payment_id,next:e.credit.next,previous:e.credit.previous,current:e.credit.id,final:e.final},on:{closeModalCredit:e.closeModalCredit}})],1),e.balance?e._e():a("div",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Cobro*","item-value":"value","item-text":"detail","no-data-text":"Cobro no registrado","menu-props":{maxHeight:100},outlined:""},on:{change:function(t){return e.viewDate()}},model:{value:e.paiment,callback:function(t){e.paiment=t},expression:"paiment"}})],1),e.stateDate?a("v-col",{attrs:{cols:"2"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.postPaid.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.postPaid,"date",t)},"update:return-value":function(t){return e.$set(e.postPaid,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*","persistent-hint":"",readonly:"",outlined:""},model:{value:e.postPaid.date,callback:function(t){e.$set(e.postPaid,"date",t)},expression:"postPaid.date"}},"v-text-field",r,!1),n))]}}],null,!1,913657727),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.postPaid.date,callback:function(t){e.$set(e.postPaid,"date",t)},expression:"postPaid.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.menu.save(e.postPaid.date),e.getCreditInitial(e.paiment)}}},[e._v(" Seleccionar ")])],1)],1)],1):e._e(),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{ref:"name",attrs:{label:"Cliente",outlined:""},model:{value:e.credit.name,callback:function(t){e.$set(e.credit,"name",t)},expression:"credit.name"}})],1),a("v-col",{attrs:{cols:"2",align:"center"}},[a("v-btn",{staticClass:"mx-2",attrs:{disabled:!e.previous,fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.getCurrentCredit(0)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" arrow_back ")])],1),a("v-btn",{staticClass:"mx-2",attrs:{disabled:!e.next,fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.getCurrentCredit(1)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" arrow_forward ")])],1)],1),a("v-col",{attrs:{cols:"2",align:"center"}},[e.add?a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){e.dialog2=!e.dialog2}}},[a("v-icon",{attrs:{dark:""}},[e._v(" person_add_alt_1 ")])],1):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Total Pago",outlined:""},model:{value:e.credit.total,callback:function(t){e.$set(e.credit,"total",t)},expression:"credit.total"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Valor Prestamo",outlined:""},model:{value:e.credit.value,callback:function(t){e.$set(e.credit,"value",t)},expression:"credit.value"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Saldo Pendiente",outlined:""},model:{value:e.credit.balance,callback:function(t){e.$set(e.credit,"balance",t)},expression:"credit.balance"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Dias Retraso",outlined:""},model:{value:e.delayDays,callback:function(t){e.delayDays=t},expression:"delayDays"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Total Abonos",outlined:""},model:{value:e.credit.total_paid,callback:function(t){e.$set(e.credit,"total_paid",t)},expression:"credit.total_paid"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Valor Abono*",outlined:"","append-icon":"file_download_done"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.savePaid()},"click:append":function(t){return e.savePaid()}},model:{value:e.postPaid.value,callback:function(t){e.$set(e.postPaid,"value",t)},expression:"postPaid.value"}})],1)],1)],1),e.balance?a("div",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Total Prestamos",outlined:""},model:{value:e.totalCredits,callback:function(t){e.totalCredits=t},expression:"totalCredits"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Total Abonos",outlined:""},model:{value:e.totalPaids,callback:function(t){e.totalPaids=t},expression:"totalPaids"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Base",outlined:""},model:{value:e.postBalance.base,callback:function(t){e.$set(e.postBalance,"base",t)},expression:"postBalance.base"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Gastos",outlined:""},on:{keyup:function(t){return e.calculateDelivery()}},model:{value:e.postBalance.bills,callback:function(t){e.$set(e.postBalance,"bills",t)},expression:"postBalance.bills"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Entrega",outlined:"","append-icon":"file_download_done"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveBalance()},"click:append":function(t){return e.saveBalance()}},model:{value:e.postBalance.delivery,callback:function(t){e.$set(e.postBalance,"delivery",t)},expression:"postBalance.delivery"}})],1)],1)],1):e._e(),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" ¡Upsss! ")]),a("v-card-text",[e._v("Debes llenar los campos obligatorios.")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Aceptar ")])],1)],1)],1)],1)],1)},He=[],Ye=(a(92222),a(14670));const Ue={data:function(){return{balance:!1,totalCredits:"",totalPaids:"",postBalance:{payment_id:"",date:"",total_credits:"",total_paids:"",base:"",bills:"",delivery:""},stateDate:!0,add:!1,next:!1,previous:!1,final:!1,delayDays:"",paiment:"",payment_id:"",postPaid:{id:"",credit_id:"",date:"",value:""},credit:{id:"",name:"",value:"",delay:"",total:"",balance:"",next:"",previous:"",current:"",total_paid:""},items:[],date:"",menu:!1,dialog:!1,dialog2:!1}},components:{FormCredit:Se},methods:{viewDate:function(){this.stateDate=!0},getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getCreditInitial:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.payment_id=e.id,e.id){a.next=5;break}t.dialog=!0,a.next=15;break;case 5:return t.add=!0,t.next=!0,n=e.id,a.next=10,S().get("api/credits/initial/".concat(n));case 10:return r=a.sent,a.next=13,r.data.credit;case 13:i=a.sent,t.calculateDelay(i);case 15:case"end":return a.stop()}}),a)})))()},getCurrentCredit:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.next=!0,t.previous=!0,n=0===e?t.credit.previous:t.credit.next,a.next=5,S().get("api/credits/current/".concat(n));case 5:return r=a.sent,a.next=8,r.data.credit;case 8:i=a.sent,t.calculateDelay(i),0===e&&"0"===t.credit.previous?t.previous=!1:1===e&&"0"===t.credit.next&&(t.next=!1);case 11:case"end":return a.stop()}}),a)})))()},savePaid:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=1e3*e.postPaid.value,n=e.credit.balance.replace(/\./g,""),""!==e.postPaid.date&&""!==e.postPaid.paid){t.next=6;break}e.dialog=!0,t.next=9;break;case 6:return e.setValuePostPaid(),t.next=9,S().post("api/credits/paid",e.postPaid).then((function(t){t&&(a>=n&&(e.updatePrevious(e.credit.previous),e.updateNext(e.credit.next),e.inactivateCredit(e.credit.id)),"0"===e.credit.next?(e.balance=!e.balance,e.getDailyBalance()):e.getCurrentCredit(1))}));case 9:case"end":return t.stop()}}),t)})))()},updatePrevious:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/credits/previous/".concat(e),{next:t.credit.next}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updateNext:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/credits/next/".concat(e),{previous:t.credit.previous}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},inactivateCredit:function(e){return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:S().put("api/credits/inactivate/".concat(e)).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},setValuePostPaid:function(){this.postPaid.id=Ye.generate(),this.postPaid.credit_id=this.credit.id},closeModalCredit:function(){this.dialog2=!1},calculateDelay:function(e){var t=this,a=[];e.forEach((function(e){a.push({balance:t.convert(e.balance),date:e.date,id:e.id,mode:e.mode,name:e.name,next:e.next,previous:e.previous,total:e.total,total_paid:t.convert(e.total_paid),value:t.convert(e.value)})})),this.credit=a[0];var n=Ve()(this.credit.date).add(this.credit.mode,"d").format("YYYY-MM-DD"),r=Ve()().format("YYYY-MM-DD");this.delayDays=r>n?Ve()(r).diff(n,"d"):0},getDailyBalance:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.paiment.id,t.next=3,S().get("api/credits/totalCredits/paymentId/".concat(a,"/date/").concat(e.postPaid.date));case 3:return n=t.sent,t.t0=e,t.next=7,n.data.totalCredits[0].total;case 7:return t.t1=t.sent,e.totalCredits=t.t0.convert.call(t.t0,t.t1),t.next=11,S().get("api/credits/totalPaids/paymentId/".concat(a,"/date/").concat(e.postPaid.date));case 11:return r=t.sent,t.t2=e,t.next=15,r.data.totalPaids[0].total;case 15:t.t3=t.sent,e.totalPaids=t.t2.convert.call(t.t2,t.t3);case 17:case"end":return t.stop()}}),t)})))()},calculateDelivery:function(){this.postBalance.delivery=this.postBalance.total_paids+1e3*this.postBalance.base-(this.postBalance.total_credits+1e3*this.postBalance.bills)},saveBalance:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setValuePostBalance(),t.next=3,S().post("api/credits/paid/saveDailyBalance",e.postBalance).then(function(){var e=(0,B.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},setValuePostBalance:function(){this.postBalance.id=Ye.generate(),this.postBalance.payment_id=this.paiment.id,this.postBalance.date=this.postPaid.date,this.postBalance.total_credits=this.totalCredits.replace(/\./g,""),this.postBalance.total_paids=this.totalPaids.replace(/\./g,"")},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getPayments()}},Ke=Ue;var Je=(0,d.Z)(Ke,Ge,He,!1,null,null,null);const We=Je.exports;p()(Je,{VAutocomplete:Ie.Z,VBtn:F.Z,VCard:O.Z,VCardActions:M.h7,VCardText:M.ZB,VCardTitle:M.EB,VCol:re.Z,VContainer:L.Z,VDatePicker:se.Z,VDialog:oe.Z,VIcon:v.Z,VMenu:le.Z,VRow:de.Z,VSpacer:ue.Z,VTextField:H.Z});const Qe={name:"CreatePayment",data:function(){return{}},components:{SavePaid:We},props:{}},Xe=Qe;var et=(0,d.Z)(Xe,qe,ze,!1,null,null,null);const tt=et.exports;p()(et,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Balance Diario ")]),a("SaveBalance",{staticClass:"top",attrs:{paymentId:e.$route.params.id}})],1)],1)},nt=[],rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Total Prestamos",outlined:""},model:{value:e.totalCredits,callback:function(t){e.totalCredits=t},expression:"totalCredits"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Total Abonos",outlined:""},model:{value:e.totalPaids,callback:function(t){e.totalPaids=t},expression:"totalPaids"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Base",outlined:""},model:{value:e.postBalance.base,callback:function(t){e.$set(e.postBalance,"base",t)},expression:"postBalance.base"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Gastos",outlined:""},on:{keyup:function(t){return e.calculateDelivery()}},model:{value:e.postBalance.bills,callback:function(t){e.$set(e.postBalance,"bills",t)},expression:"postBalance.bills"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{ref:"name",attrs:{label:"Entrega",outlined:"","append-icon":"file_download_done"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveBalance()},"click:append":function(t){return e.saveBalance()}},model:{value:e.postBalance.delivery,callback:function(t){e.$set(e.postBalance,"delivery",t)},expression:"postBalance.delivery"}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("¡Upsss!")]),a("v-card-text",[e._v("Debes llenar los campos obligatorios!")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Aceptar ")])],1)],1)],1)],1)],1)},it=[],st=a(14670);const ot={data:function(){return{stateDate:!0,paiment:[],menu:!1,dialog:!1,text:!0,postBalance:{payment_id:"",date:"",total_credits:"",total_paids:"",base:"",bills:"",delivery:""},items:[],totalCredits:"",totalPaids:""}},props:{paymentId:""},methods:{viewDate:function(){this.stateDate=!0},getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getDailyBalance:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.paiment.id,t.next=3,S().get("api/credits/totalCredits/paymentId/".concat(a,"/date/").concat(e.postBalance.date));case 3:return n=t.sent,t.t0=e,t.next=7,n.data.totalCredits[0].total;case 7:return t.t1=t.sent,e.totalCredits=t.t0.convert.call(t.t0,t.t1),t.next=11,S().get("api/credits/totalPaids/paymentId/".concat(a,"/date/").concat(e.postBalance.date));case 11:return r=t.sent,t.t2=e,t.next=15,r.data.totalPaids[0].total;case 15:t.t3=t.sent,e.totalPaids=t.t2.convert.call(t.t2,t.t3);case 17:case"end":return t.stop()}}),t)})))()},calculateDelivery:function(){this.postBalance.delivery=this.postBalance.total_paids+1e3*this.postBalance.base-(this.postBalance.total_credits+1e3*this.postBalance.bills)},saveBalance:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.postBalance.date&&""!==e.postBalance.paid){t.next=5;break}e.text=!1,e.dialog=!0,t.next=9;break;case 5:return t.next=7,e.setValuePostBalance();case 7:return t.next=9,S().post("api/credits/paid/saveDailyBalance",e.postBalance).then(function(){var e=(0,B.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})))()},setValuePostBalance:function(){this.postBalance.id=st.generate(),this.postBalance.payment_id=this.paiment.id,this.postBalance.total_credits=this.totalCredits.replace(/\./g,""),this.postBalance.total_paids=this.totalPaids.replace(/\./g,"")},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){}},ct=ot;var lt=(0,d.Z)(ct,rt,it,!1,null,null,null);const dt=lt.exports;p()(lt,{VBtn:F.Z,VCard:O.Z,VCardActions:M.h7,VCardText:M.ZB,VCardTitle:M.EB,VCol:re.Z,VContainer:L.Z,VDialog:oe.Z,VRow:de.Z,VSpacer:ue.Z,VTextField:H.Z});const ut={components:{SaveBalance:dt}},pt=ut;var vt=(0,d.Z)(pt,at,nt,!1,null,null,null);const mt=vt.exports;p()(vt,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"dashboard__header"},[a("Header")],1),a("div",{staticClass:"dashboard__content"},[a("div",{staticClass:"dashboard__content__left"},[a("Menu")],1),a("div",{staticClass:"dashboard__content__right"},[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pl-6 pr-10"},[a("router-view")],1)],1)],1)],1)])])},ht=[],gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header__left"},[a("h2",{staticClass:"header__left__title"},[e._v("¡Bienvenido! "+e._s(e.name))])]),a("div",{staticClass:"header__right"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",e._g({staticClass:"circle"},n),[a("v-avatar",[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/john.jpg",alt:"John"}})])],1)]}}])},[a("v-list",{attrs:{dense:""}},[a("v-list-item-group",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s("Mi Perfil")},on:{click:function(t){return e.signOut()}}})],1)],1)],1)],1),a("v-list",{attrs:{dense:""}},[a("v-list-item-group",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s("Cerrar Sesión")},on:{click:function(t){return e.signOut()}}})],1)],1)],1)],1)],1)],1)])},xt=[];const bt={data:function(){return{hideDetails:!0,searchText:null,name:"",items:[{key:"logout",title:"Logout"}],userRole:null}},methods:{signOut:function(){window.localStorage.clear(),this.$router.push("/")},getName:function(){this.name=window.localStorage.getItem("nameUser")}},created:function(){this.getName()}},Ct=bt;var kt=a(43423),_t=a(57941),yt=(0,d.Z)(Ct,gt,xt,!1,null,"fcfef1f2",null);const wt=yt.exports;p()(yt,{VAvatar:kt.Z,VList:m.Z,VListItem:h.Z,VListItemContent:g.km,VListItemGroup:_t.Z,VListItemTitle:g.V9,VMenu:le.Z});const Zt={components:{Menu:C,Header:wt},created:function(){},methods:{}},Vt=Zt;var jt=(0,d.Z)(Vt,ft,ht,!1,null,"06327ad6",null);const Pt=jt.exports;p()(jt,{VCol:re.Z,VContainer:L.Z,VRow:de.Z});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Listado De Pagos ")]),a("ListPaidsByDay",{staticClass:"top"})],1)],1)},It=[],Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"table",attrs:{flat:""}},[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Cobro*","item-value":"value","item-text":"detail","no-data-text":"Cobro no registrado","menu-props":{maxHeight:100},outlined:""},on:{change:function(t){return e.viewDate()}},model:{value:e.paiment,callback:function(t){e.paiment=t},expression:"paiment"}})],1),e.stateDate?a("v-col",{attrs:{cols:"2"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":e.date2,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date2=t},"update:return-value":function(t){e.date2=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*","persistent-hint":"",readonly:"",outlined:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},"v-text-field",r,!1),n))]}}],null,!1,3823353939),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.menu2.save(e.date2),e.getPaidsByDay()}}},[e._v(" Seleccionar ")])],1)],1)],1):e._e(),a("v-spacer"),a("v-col",[a("v-text-field",{attrs:{"prepend-icon":"search","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Modificar Pago")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Cliente*","persistent-hint":"",required:""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Valor",hint:"Modifique el valor del pago","persistent-hint":"",required:""},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"date",t)},"update:return-value":function(t){return e.$set(e.editedItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Modifique la fecha del pago","persistent-hint":"",readonly:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar este pago?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)})},Bt=[];a(14670);const $t={data:function(){return{stateDate:!1,menu:!1,menu2:!1,date:"",date2:"",paiment:[],search:"",dialog:!1,dialogDelete:!1,desserts:[],items:[],headers:[{text:"Cliente",align:"start",sortable:!1,value:"name"},{text:"Valor Pagado",value:"value"},{text:"Fecha",value:"date"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{},defaultItem:{name:"",date:"",value:""}}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{viewDate:function(){this.stateDate=!0},getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getPaidsByDay:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/credits/getPaidsByDay/paymentId/".concat(e.paiment.id,"/date/").concat(e.date2));case 2:return a=t.sent,t.next=5,a.data.paids;case 5:n=t.sent,e.desserts=[],n.forEach((function(t){e.desserts.push({credit_id:t.credit_id,next:t.next,previous:t.previous,balance:t.balance,id:t.id,name:t.name,value:e.convert(t.value),oldValue:t.value,date:t.date,state:t.state})}));case 8:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deletePaid(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1&&(this.updatePaid(this.editedItem),this.close())},updatePaid:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=1e3*e.value,r=n>e.oldValue?n-e.oldValue:n,i=e.balance,S().put("api/credits/updatePaid/".concat(e.id),{date:e.date,value:e.value.replace(/\./g,"")}).then((0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(r>=i)){a.next=7;break}return a.next=3,t.updatePrevious(e.previous,e.next);case 3:return a.next=5,t.updateNext(e.next,e.previous);case 5:return a.next=7,t.inactivateCredit(e.credit_id);case 7:return a.next=9,t.getPaidsByDay();case 9:case"end":return a.stop()}}),a)}))))["catch"]((function(e){console.log(e)}));case 4:case"end":return a.stop()}}),a)})))()},deletePaid:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S()["delete"]("api/credits/deletePaid/".concat(e.id)).then((0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!==e.state){a.next=7;break}return a.next=3,t.updatePrevious(e.previous,e.credit_id);case 3:return a.next=5,t.updateNext(e.next,e.credit_id);case 5:return a.next=7,t.activateCredit(e.credit_id);case 7:return a.next=9,t.getPaidsByDay();case 9:case"end":return a.stop()}}),a)}))))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updatePrevious:function(e,t){return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/credits/previous/".concat(e),{next:t}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updateNext:function(e,t){return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/credits/next/".concat(e),{previous:t}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},activateCredit:function(e){return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:S().put("api/credits/activate/".concat(e)).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},inactivateCredit:function(e){return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:S().put("api/credits/inactivate/".concat(e)).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getPayments()}},St=$t;var Et=(0,d.Z)(St,Rt,Bt,!1,null,null,null);const Tt=Et.exports;p()(Et,{VAutocomplete:Ie.Z,VBtn:F.Z,VCard:O.Z,VCardActions:M.h7,VCardText:M.ZB,VCardTitle:M.EB,VCol:re.Z,VContainer:L.Z,VDataTable:ie.Z,VDatePicker:se.Z,VDialog:oe.Z,VIcon:v.Z,VMenu:le.Z,VRow:de.Z,VSpacer:ue.Z,VTextField:H.Z,VToolbar:Y.Z});const At={name:"EditPaids",data:function(){return{}},components:{ListPaidsByDay:Tt},props:{}},Ft=At;var Ot=(0,d.Z)(Ft,Dt,It,!1,null,null,null);const Mt=Ot.exports;p()(Ot,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Listado De Creditos ")]),a("ListCreditsByDay",{staticClass:"top"})],1)],1)},Nt=[],qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"table",attrs:{flat:""}},[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Cobro*","item-value":"value","item-text":"detail","no-data-text":"Cobro no registrado","menu-props":{maxHeight:100},outlined:""},on:{change:function(t){return e.viewDate()}},model:{value:e.paiment,callback:function(t){e.paiment=t},expression:"paiment"}})],1),e.stateDate?a("v-col",{attrs:{cols:"2"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":e.date2,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date2=t},"update:return-value":function(t){e.date2=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*","persistent-hint":"",readonly:"",outlined:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},"v-text-field",r,!1),n))]}}],null,!1,3823353939),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.menu2.save(e.date2),e.getCreditsByDay()}}},[e._v(" Seleccionar ")])],1)],1)],1):e._e(),a("v-spacer"),a("v-col",[a("v-text-field",{attrs:{"prepend-icon":"search","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Modificar Credito")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Cliente*","persistent-hint":"",required:""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Valor",hint:"Modifique el valor del pago","persistent-hint":"",required:""},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"date",t)},"update:return-value":function(t){return e.$set(e.editedItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Modifique la fecha del pago","persistent-hint":"",readonly:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar este cobro?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)})},zt=[];a(14670);const Gt={data:function(){return{stateDate:!1,menu:!1,menu2:!1,date:"",date2:"",paiment:[],search:"",dialog:!1,dialogDelete:!1,desserts:[],items:[],headers:[{text:"Cliente",align:"start",sortable:!1,value:"name"},{text:"Valor Prestado",value:"value"},{text:"Fecha",value:"date"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{},defaultItem:{name:"",date:"",value:""}}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{viewDate:function(){this.stateDate=!0},getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getCreditsByDay:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/credits/getCreditsByDay/paymentId/".concat(e.paiment.id,"/date/").concat(e.date2));case 2:return a=t.sent,t.next=5,a.data.credits;case 5:return e.desserts=t.sent,t.next=8,a.data.credits;case 8:n=t.sent,e.desserts=[],n.forEach((function(t){e.desserts.push({id:t.id,previous:t.previous,next:t.next,name:t.name,value:e.convert(t.value),date:t.date})}));case 11:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteCredit(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1&&(this.updateCredit(this.editedItem),this.close())},deleteCredit:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S()["delete"]("api/credits/".concat(e.id)).then((function(){t.getCreditsByDay(),t.updatePrevious(e),t.updateNext(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updateCredit:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:S().put("api/credits/updateCredit/".concat(e.id),{date:e.date,value:e.value.replace(/\./g,"")}).then((function(){t.getCreditsByDay()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updatePrevious:function(e){return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:S().put("api/credits/previous/".concat(e.previous),{next:e.next}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},updateNext:function(e){return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:S().put("api/credits/next/".concat(e.next),{previous:e.previous}).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getPayments()}},Ht=Gt;var Yt=(0,d.Z)(Ht,qt,zt,!1,null,null,null);const Ut=Yt.exports;p()(Yt,{VAutocomplete:Ie.Z,VBtn:F.Z,VCard:O.Z,VCardActions:M.h7,VCardText:M.ZB,VCardTitle:M.EB,VCol:re.Z,VContainer:L.Z,VDataTable:ie.Z,VDatePicker:se.Z,VDialog:oe.Z,VIcon:v.Z,VMenu:le.Z,VRow:de.Z,VSpacer:ue.Z,VTextField:H.Z,VToolbar:Y.Z});const Kt={name:"EditPaids",data:function(){return{}},components:{ListCreditsByDay:Ut},props:{}},Jt=Kt;var Wt=(0,d.Z)(Jt,Lt,Nt,!1,null,null,null);const Qt=Wt.exports;p()(Wt,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Estado Actual")]),a("DetailState",{staticClass:"top"})],1)],1)},ea=[],ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Cobro*","item-value":"value","item-text":"detail","no-data-text":"Cobro no registrado","menu-props":{maxHeight:100},outlined:""},on:{change:function(t){return e.getActualState()}},model:{value:e.paiment,callback:function(t){e.paiment=t},expression:"paiment"}})],1)],1),a("div",{staticClass:"content"},[a("div",{staticClass:"content fourth"},[a("div",{staticClass:"content fourth__title"},[e._v("Creditos")]),a("div",{staticClass:"content fourth__body"},[a("div",{staticClass:"content fourth__body--button info"},[e._v(" $ "+e._s(e.convert(e.state.total_credits?e.state.total_credits:0))+" ")])])]),a("div",{staticClass:"content fourth"},[a("div",{staticClass:"content fourth__title"},[e._v("Total")]),a("div",{staticClass:"content fourth__body"},[a("div",{staticClass:"content fourth__body--button primary"},[e._v(" $ "+e._s(e.convert(e.state.total?e.state.total:0))+" ")])])]),a("div",{staticClass:"content fourth"},[a("div",{staticClass:"content fourth__title"},[e._v("Recaudado")]),a("div",{staticClass:"content fourth__body"},[a("div",{staticClass:"content fourth__body--button success"},[e._v(" $ "+e._s(e.convert(e.state.total_paids?e.state.total_paids:0))+" ")])])]),a("div",{staticClass:"content fourth"},[a("div",{staticClass:"content fourth__title"},[e._v("Pendiente")]),a("div",{staticClass:"content fourth__body"},[a("div",{staticClass:"content fourth__body--button error"},[e._v(" $ "+e._s(e.convert(e.state.total&&e.state.total_paids?e.state.total-e.state.total_paids:0))+" ")])])])])],1)},aa=[];const na={data:function(){return{items:[],paiment:[],state:{total:"",total_credits:"",total_paids:""}}},methods:{getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getActualState:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/credits/getActualState/".concat(e.paiment.id));case 2:return a=t.sent,console.log(a),t.next=6,a.data.state[0];case 6:e.state=t.sent;case 7:case"end":return t.stop()}}),t)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getPayments()}},ra=na;var ia=(0,d.Z)(ra,ta,aa,!1,null,null,null);const sa=ia.exports;p()(ia,{VAutocomplete:Ie.Z,VCol:re.Z,VContainer:L.Z,VRow:de.Z});const oa={name:"CreatePayment",data:function(){return{}},components:{DetailState:sa}},ca=oa;var la=(0,d.Z)(ca,Xt,ea,!1,null,null,null);const da=la.exports;p()(la,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Creditos Vencidos ")]),a("ListCreditsExpired",{staticClass:"top"})],1)],1)},pa=[],va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"table",attrs:{flat:""}},[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Cobro*","item-value":"value","item-text":"detail","no-data-text":"Cobro no registrado","menu-props":{maxHeight:100},outlined:""},on:{change:function(t){return e.getCreditsExpired()}},model:{value:e.paiment,callback:function(t){e.paiment=t},expression:"paiment"}})],1),a("v-spacer"),a("v-col",[a("v-text-field",{attrs:{"prepend-icon":"search","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)]},proxy:!0}])})},ma=[],fa=a(82482);a(57327);const ha={data:function(){var e;return{items:[],search:"",paiment:[],desserts:[],headers:[{text:"Identificación",align:"start",sortable:!1,value:"identification"},{text:"Cliente",align:"start",value:"name"},(e={text:"Telefono",align:"end",value:"phone"},(0,fa.Z)(e,"align","start"),(0,fa.Z)(e,"sortable",!1),e),{text:"Dirección",value:"direction",align:"start",sortable:!1},{text:"Valor",value:"total",align:"start"},{text:"Fecha",value:"date",align:"start"},(0,fa.Z)({text:"Vencidos",align:"end",value:"days"},"align","start")]}},methods:{getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getCreditsExpired:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/reports/getCreditsExpired/".concat(e.paiment.id));case 2:return a=t.sent,t.next=5,a.data.report;case 5:n=t.sent,e.desserts=n.filter((function(e){return e.days>e.mode}));case 7:case"end":return t.stop()}}),t)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getPayments()}},ga=ha;var xa=(0,d.Z)(ga,va,ma,!1,null,null,null);const ba=xa.exports;p()(xa,{VAutocomplete:Ie.Z,VCol:re.Z,VDataTable:ie.Z,VRow:de.Z,VSpacer:ue.Z,VTextField:H.Z,VToolbar:Y.Z});const Ca={name:"EditPaids",data:function(){return{}},components:{ListCreditsExpired:ba},props:{}},ka=Ca;var _a=(0,d.Z)(ka,ua,pa,!1,null,null,null);const ya=_a.exports;p()(_a,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Creditos Vencidos ")]),a("DetailGraphicState",{staticClass:"top"})],1)],1)},Za=[],Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Cobro*","item-value":"value","item-text":"detail","no-data-text":"Cobro no registrado","menu-props":{maxHeight:100},outlined:""},on:{change:function(t){return e.getGraphicState()}},model:{value:e.paiment,callback:function(t){e.paiment=t},expression:"paiment"}})],1)],1),a("div",{staticClass:"content"},[a("Doughnut",{ref:"pie",attrs:{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,"dataset-id-key":e.datasetIdKey,plugins:e.plugins,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height}})],1)],1)},ja=[],Pa=(a(9653),a(17889)),Da=a(6300);Da.kL.register(Da.Dx,Da.u,Da.De,Da.qi,Da.uw);const Ia={name:"DoughnutChart",components:{Doughnut:Pa.$I},props:{chartId:{type:String,default:"doughnut-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Array,default:function(){return[]}}},data:function(){return{items:[],paiment:[],state:!1,chartData:{labels:["Creditos Buenos","Creditos Malos"],datasets:[{backgroundColor:["#2196F3","#FF5252"],data:[100,0]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}},methods:{getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getGraphicState:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/reports/getCreditsExpired/".concat(e.paiment.id));case 2:return a=t.sent,t.next=5,a.data.report;case 5:n=t.sent,r=n.filter((function(e){return e.days>e.mode})),e.chartData.datasets[0].data=[],e.chartData.datasets[0].data[0]=n.length-r.length,e.chartData.datasets[0].data[1]=r.length;case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.getPayments()}},Ra=Ia;var Ba=(0,d.Z)(Ra,Va,ja,!1,null,null,null);const $a=Ba.exports;p()(Ba,{VAutocomplete:Ie.Z,VCol:re.Z,VContainer:L.Z,VRow:de.Z});const Sa={name:"EditPaids",data:function(){return{}},components:{DetailGraphicState:$a},props:{}},Ea=Sa;var Ta=(0,d.Z)(Ea,wa,Za,!1,null,null,null);const Aa=Ta.exports;p()(Ta,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z});var Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Balance Diario")]),a("DetailDailyBalance",{staticClass:"top"})],1)],1)},Oa=[],Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"table",attrs:{flat:""}},[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Cobro*","item-value":"value","item-text":"detail","no-data-text":"Cobro no registrado","menu-props":{maxHeight:100},outlined:""},on:{change:function(t){e.stateDate=!0}},model:{value:e.paiment,callback:function(t){e.paiment=t},expression:"paiment"}})],1),e.stateDate?a("v-col",{attrs:{cols:"2"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*","persistent-hint":"",readonly:"",outlined:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",r,!1),n))]}}],null,!1,3740389793),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.menu.save(e.date),e.getDailyBalance(e.paiment)}}},[e._v(" Seleccionar ")])],1)],1)],1):e._e(),a("v-spacer"),a("v-col",[a("v-text-field",{attrs:{"prepend-icon":"search","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)]},proxy:!0}])})},La=[];const Na={data:function(){return{stateDate:!1,menu:!1,items:[],search:"",paiment:[],desserts:[],date:"",headers:[{text:"Total Creditos",align:"start",sortable:!1,value:"total_credits"},{text:"Total Abonos",align:"start",value:"total_paids"},{text:"Base",align:"start",value:"base",sortable:!1},{text:"Gastos",value:"bills",align:"start",sortable:!1},{text:"Entrega",value:"delivery",align:"start",sortable:!1}]}},methods:{getPayments:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S().get("api/payments");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:e.items=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getDailyBalance:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,S().get("api/credits/dailyBalance/paymentId/".concat(e.id,"/date/").concat(t.date));case 2:return n=a.sent,a.next=5,n.data.report;case 5:r=a.sent,t.desserts=[],r.forEach((function(e){t.desserts.push({total_credits:t.convert(e.total_credits),total_paids:t.convert(e.total_paids),delivery:t.convert(e.delivery),bills:t.convert(e.bills),base:t.convert(e.base)})}));case 8:case"end":return a.stop()}}),a)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getPayments()}},qa=Na;var za=(0,d.Z)(qa,Ma,La,!1,null,null,null);const Ga=za.exports;p()(za,{VAutocomplete:Ie.Z,VBtn:F.Z,VCol:re.Z,VDataTable:ie.Z,VDatePicker:se.Z,VMenu:le.Z,VRow:de.Z,VSpacer:ue.Z,VTextField:H.Z,VToolbar:Y.Z});const Ha={name:"DailyBalance",data:function(){return{}},components:{DetailDailyBalance:Ga}},Ya=Ha;var Ua=(0,d.Z)(Ya,Fa,Oa,!1,null,null,null);const Ka=Ua.exports;p()(Ua,{VBanner:he.Z,VCard:O.Z,VContainer:L.Z}),n.Z.use(D.Z);var Ja=[{path:"/",name:"Home",component:J},{path:"/dashboard",name:"Dashboard",component:Pt,children:[{path:"/create-payment",name:"CreatePayment",component:xe,meta:{requiresAuth:!0}},{path:"/register-paid",name:"RegisterPaid",component:tt,meta:{requiresAuth:!0}},{path:"/create-credit/:id",name:"CreateCredit",props:!0,component:Ne,meta:{requiresAuth:!0}},{path:"/balance-payment",name:"BalancePayment",props:!0,component:mt,meta:{requiresAuth:!0}},{path:"/edit-paids",name:"EditPaids",props:!0,component:Mt,meta:{requiresAuth:!0}},{path:"/edit-credits",name:"EditCredits",props:!0,component:Qt,meta:{requiresAuth:!0}},{path:"/daily-balance",name:"DailyBalance",props:!0,component:Ka,meta:{requiresAuth:!0}},{path:"/actual-state",name:"ActualState",props:!0,component:da,meta:{requiresAuth:!0}},{path:"/credits-expired",name:"CreditsExpired",props:!0,component:ya,meta:{requiresAuth:!0}},{path:"/graphic-state",name:"GraphicState",props:!0,component:Aa,meta:{requiresAuth:!0}}]}],Wa=new D.Z({mode:"history",base:"/",routes:Ja});const Qa=Wa;var Xa=a(20629);n.Z.use(Xa.ZP);const en=new Xa.ZP.Store({state:{desserts:[]},getters:{},mutations:{},actions:{},modules:{}});var tn=a(31705);n.Z.use(tn.Z);const an=new tn.Z({theme:{options:{customProperties:!0},themes:{light:{primary:"#007BFF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"md"}}),nn={install:function(e){e.filter("transformValue",(function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}))}};n.Z.config.productionTip=!1,n.Z.use(nn),S().defaults.baseURL="http://localhost:8084/",Qa.beforeEach((function(e,t,a){if(e.matched.some((function(e){return e.meta.requiresAuth}))){var n=window.localStorage.getItem("authToken");n?a():Qa.push("/")}else a()})),new n.Z({router:Qa,store:en,vuetify:an,render:function(e){return e(P)}}).$mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,(()=>{var e=[];a.O=(t,n,r,i)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,r,i]=e[d],o=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(o=!1,i<s&&(s=i));if(o){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={143:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,o,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(c)var d=c(a)}for(t&&t(n);l<s.length;l++)i=s[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},n=self["webpackChunkcredits"]=self["webpackChunkcredits"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[998],(()=>a(51227)));n=a.O(n)})();
//# sourceMappingURL=app.d6666694.js.map